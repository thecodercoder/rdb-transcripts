# Building the responsive 2-column layout

Before we start writing more code, let's take a look at what we have so far in our local website, and figure out where we want to go from here. In our browser, we have our main element with the "Mythos" title and some text. Then underneath we have the sidebar with the title "More Info."

Right now we don't have any style rules that control the layout of these two elements. We have the main element going all the way across, and the aside element also going all the way across. And actually, this layout, with main and then sidebar under it, is what we want if this website is loaded on a mobile device.

However, on desktop we wanted that 2-column layout with main on the left, and the sidebar on the right. We're going to use CSS grid and a component of responsive design called media queries to make that happen.

First, let's set up the grid. Going back to VS Code in our ` grid.scss` file, let's add a style rule to the .grid parent selector that says `display: grid`. This will essentially turn on CSS grid. However this rule by itself won't really do anything. We also need to set up what's called the grid template, which is the number and size of columns and rows for our layout, and the space between the columns and rows.

We'll start by setting the grid template for our mobile view. This is one column with two rows. When using grid the most important thing is to make sure you explicitly set the columns, since having multiple columns is different from the default of elements going all the way across. Grid is smart enough to add more more rows if you have more grid child elements, even if you don't explicitly define them in your grid template.

To add the columns, we'll add a new style rule in the `.grid` parent selector: `grid-template-columns: 1fr;`.

This is essentially saying that in our grid we want one column. The `fr` unit is one that's used for CSS grid. The `fr` is short for `fractional unit` and it's sort of like a ratio, where it will divide the available space into as many columns as you have. Since we only have one column, 100% of the width will be given to that column. And you'll see more of the `fr` unit and how it works when we set up the desktop grid styles.

Lastly, I want to add some space between items in the grid. We can control that space by writing: gap: 40px;

This will add a space of 40px between all cells in the grid. And if you've seen my YouTube videos, you probably know that I generally use the `rem` unit, not the pixel unit, because pixels aren't as accessible for people who might be using their browser settings to control the base font size. And we will be converting these pixels into rems a little bit later in this video, but for now we'll use pixels.

This is all we need for our grid template. Let's save and check out how it looks on the website. It looks pretty much the same, except you might notice that there's now more space between the two grid child items. Let's also look at this with the grid inspector that Firefox has. And I believe Chrome also has a similar tool. On the right side of the inspector, if we click on the "Layout" tab, in the "Grid" panel it will list all the elements using CSS grid. Right now we just have the one with that `grid` class.

If we check that box, it will display the grid lines in our grid template, and show us the rows and columns in the grid. One thing to note is that rows and columns are also called tracks, so you might see that word used when CSS grid is talked about. We can also see that shaded space between the two grid child items, which is the gap space of 40px that we set.

Looking at the grid lines, the top horizontal line is solid, but then the bottom line under the second row is dotted. This is because we didn't explicitly set a second row. So even though CSS grid added that second row or track below the first one, it's what's called an implicit track.

If we go back to VS Code, let's define the grid rows explicitly. So under grid-template-columns I'll create a new rule that says `grid-template-rows: auto auto;`. This will create two rows in the template, and the height of each of them is set to auto, so they will be sized according to how much content each grid child item contains. Now in our website we can see that the bottom line of the grid is now solid too. And the lines on either side of the gap will always be dotted, since the gap space isn't considered a track itself.

The vertical and horizontal lines of the grid are also labeled with numbers. For the vertical column lines, they start at the left side with the number 1 and go up as you move to the right. Since we only have one column, the first line on the far left is 1 and the second line all the way on the right end is 2. The horizontal row lines start at the top, also with 1. And they increase as you move down. So the top line is 1, the middle line which includes the gap is 2, and the last line at the bottom of the grid is 3.

These line numbers are helpful to determine the position of each cell in the grid. So the top cell which contains the main element, is between column lines 1 and 2, and row lines 1 and 2. And the bottom cell with the sidebar is between column lines 1 and 2, and row lines 2 and 3. Being able to identify a cell in the grid using the line numbers comes in handy when you have bigger and more complex grids, and want to place some content in a specific cell in the grid that might be different than what's considered default. We'll get more into this later in the course.

And you might be wondering what the negative line numbers are. While you might normally use the positive numbers to place content in a specific cell in the grid, CSS grid will also have negative numbers starting from the end of the grid.

So for example, the column line numbers begin on the left side with 1 and moving to the right is column line 2. But if we look at the other label at the bottom, the right column line starts at -1, and moving left, it goes to -2 for the far left column line.

In the same way, we had our row line numbers starting with 1 at the top, and moving down to 2, and then 3 at the bottom. We have negative row line numbers starting with -1 at the bottom, then as we move up they go down to -2 in the middle, and -3 at the top.

These negative numbers can be used when placing content in the grid template. And can come in handy if you are placing content that you want relative to the ends of the grid, meaning the far right and far bottom. So with CSS grid you have the option of using both positive or negative numbers. You're more likely going to be using the positive numbers, but those negative numbers can come in handy in those occasional circumstances.

## Building the desktop layout

Now that we have the mobile layout working, let's set up the 2-column layout for desktop. Going back in our styles, I'm going to add some background colors to the main and sidebar elements, just to be able to differentiate them more easily. In the `.grid__main` selector, I'll set the background-color to blue and then hover over that color swatch to use VS Code's color picker to select a dark blue color. For the `.grid__sidebar` selector, we'll set the background-color to magenta and then likewise make it a darker magenta color. And let's add some padding to both `grid__main` and `grid__sidebar` so there's a bit of breathing room. I'll do this by writing a compound selector, `&__main, &__sidebar` to be able to add style rules to both. And in that selector we'll add a `padding: 40px;`

Now if we look at our website, we can see the two colors of the elements and there's some space between the text and the edge of the elements.

Back in our styles, we need to change the grid template from 1 column to 2 when the website is viewed from a desktop computer. In order to add that logic in our styles we will use what's called a media query. Media queries start with a `@media` at-rule, and then a `media feature` which lists the conditions that need to be met in order for the new style rules to be applied. In Sass we can start writing the media query right inside the selector. So in our .grid parent selector I'll add the `@media` at-rule.

In our case we want to change the styles based on the width of the viewport of the device. So we need to choose what width we want to start displaying the content in 2 columns. We'll assume most phones are around 375px, tablets are around 800px, and small screens start at 1024px. For our main and sidebar elements, I'm going to say that I'd like the 2-column layout to start happening for devices that are 900px and up. This will make it 1-column on mobile and on portrait mode in tablets, and 2-columns on landscape tablets and screens. The width that we want to change the design is called a breakpoint, since the design "breaks" and is different after that point.

In our media query, we would write that by adding `(min-width: 900px)` in parentheses, then add curly brackets. Then in the curly brackets we'll write our new styles, that will take effect on devices that have a viewport width that are at least 900px or more. This is what the `min-width` media feature means. You can also write `max-width` to target viewport widths that are a certain number and smaller. And one thing to note, it's better to use an accessible relative unit like `em` for media queries instead of pixels. The reason for this is that we want to allow users to scale up the text on a website by changing their browser base font size, and using pixels prevents that ability. But again we'll be converting those pixel values to em units a bit later on in this section.

Now, in the curly brackets we will change our grid template. Since we want 2 columns, the `grid-template-columns` property will need to have 2 values. I'm going to set `2fr 1fr.` This is again using that fr `fractional unit` to determine the width of each column. What `2fr 1fr` means is that the first column, which will be the main content, will be 2x as wide as the second column with the sidebar content. The fr numbers relate to one another. If we save and then look at the website, we can see that the content is now in 2 columns. And in the inspector, if we hover over the main and aside tags, we can check the width and see that the main content is twice the size of the sidebar.

And in your browser, if you slide over your inspector panel to make the website panel more narrow, you can see that the layout will eventually change to stack all the content to 1 column. This trick is hugely helpful when you're testing your responsive styles. You can also use the emulator to see how it looks on iPhone or iPad, and also iPad in landscape view.

The inspector will also show you the different rules that are taking effect if you click on an element in the code. If I clock on the `grid` element you can see the rules we've written on the bottom panel. When the viewport is narrow and the content is in 1 column, we can see our initial styles for that 1 column layout. And when we're viewing at desktop widths, we can see that the initial styles for grid-template-columns has been overridden by a media query of min-width 900px.

And again we have the gap between the columns. But there's also a gap below that first track. This actually shouldn't be the case, because the gap should only add space between actual tracks that exist in the grid, and there's no other content. This is because we still have that `grid-template-rows: auto auto;` style rule from our mobile styles. This rule is still affecting desktop widths because there is not a different rule for `grid-template-rows` in the media query.

This is one thing to keep in mind, that the styles outside the media query are what's considered the default styles. And styles in the media query will add new rules and override those default styles if they have a different value for a property than what is default. I'd like to override the 2 rows in the grid-template-rows and set it to 1 row instead for desktop widths. So in our styles I'll add `grid-template-rows: auto;` in our desktop media query. And now when we load the website we can see that there's only 1 row in the template and a gap only between the 2 columns. The gap at the bottom of the grid has been removed.

Let's go back to VS Code and I wanted to mention one more thing about media queries. You may have seen media queries that have both a `min-width` and a `max-width` set. Something like `@media (min-width: 900px) and (max-width: 1920px)`, so the style rule would only apply if the device viewport is between 900px and 1920px wide. This might seem like a good idea because it looks like you have more control with the additional max-width setting. But this can end up overcomplicating your styles, because then you'd have to create another media query for widths greater than 1920px.

This is what people used to do a lot when responsive design was a bit newer. We thought that we needed to create an individual media query to target every possible device width. So like you'd have styles targeted between 300px and 640px for mobile, then between 640px and 1023px for tablet, between 1024px and 1440px for small monitors, and so on. But this level of distinction often doesn't make a difference in the design.

For example, take our 2-column layout that we have. If both mobile and portrait tablets are loading the website stacked to 1 column, they can share one set of style rules. And we just need one breakpoint between the 1-column and 2-column layout, and I've kind of arbitrarily chosen the 900px breakpoint width, knowing that most desktop screens will be larger than that.

So when you're creating your media queries, don't feel like you need to create a set for every possible device type. Instead, look at your design, and place your breakpoints at the widths where you think the design needs to change. If a part of the website has a different layout for mobile vs tablet, I'll generally place a breakpoint around 700px, knowing that mobile phones are narrower than 700 and tablets are wider than 700.

And if I have a layout that is different for desktop screens versus mobile and tablet, I'll use a breakpoint around 900px which will be between tablet and desktop widths. It is generally a good idea to try to use consistent breakpoints, like don't set a breakpoint at 900px for one part of the website, and then randomly choose 950px for another one. Because then you'll have things changing at different screen widths. And I usually try to keep things consistent just for organizational purposes.

The other thing I get questions about sometimes is why use only `min-width` media queries, not `max-width`? The reason for this is that usually mobile styles are less complex than desktop styles. So desktop will be using most of the mobile style rules, but will have additional rules and will also override some of the mobile rules.

If we used `max-width` media queries which contained the mobile style rules, we'd have to write more rules in them to override or cancel out the desktop styles. I do occasionally use `max-width` media queries in cases where there are more rules in the mobile version than the desktop version, but generally I will use only min-width.

But I know that some people like using mainly `max-width` media queries. This is probably fine-- my only advice is try not to mix both min and max width media queries in your styles too much, because you might get weird conflicts if the breakpoints don't hit at the same point across all browsers.
